plugins {
    id 'sfx-plugin'
    id 'jacoco'
    id 'com.jfrog.bintray'
}

description = 'Hosting connector allowing to open and save presentations from and to Dropbox'
version = '1.3-SNAPSHOT'

dependencies {
    compile "com.dropbox.core:dropbox-core-sdk:${rootProject.ext.dependencies.dropbox.version}"
    implementation project(':slideshowfx-engines')
    implementation project(':slideshowfx-global-configuration')
    implementation project(':slideshowfx-hosting-connector')
    api project(':slideshowfx-plugin')
}

sfxPlugin {
    hostingConnector = true

    bundle {
        name = 'SlideshowFX Dropbox hosting connector'
        symbolicName = 'com.twasyl.slideshowfx.hosting.connector.dropbox'
        description = 'Support for connecting to Dropbox'
        activator = 'com.twasyl.slideshowfx.hosting.connector.dropbox.activator.DropboxHostingConnectorActivator'
        classpath = configurations.compile.resolve().collect { artifact -> artifact.name }.join(',').concat(',.')
        exportPackage = 'com.twasyl.slideshowfx.hosting.connector.dropbox,com.twasyl.slideshowfx.hosting.connector.dropbox.activator'
        setupWizardLabel = 'Dropbox'
    }
}

jar {
    from(configurations.compile.resolve().collect()) {
        include '*'
    }
}