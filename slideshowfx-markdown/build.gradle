plugins {
    id 'sfx-plugin'
    id 'jacoco'
    id 'com.jfrog.bintray'
    id 'org.sonarqube'
}

description = 'Extension allowing to define slide\'s content using the markdown syntax'
version = '1.0'

dependencies {
    implementation project(':slideshowfx-markup')

    compile "com.github.rjeschke:txtmark:${rootProject.ext.dependencies.markdown.version}"

    integrationTestImplementation project(':slideshowfx-osgi')
    integrationTestImplementation project(':slideshowfx-plugin').sourceSets.integrationTest.output
}

sfxPlugin {
    markupPlugin = true

    bundle {
        name = 'SlideshowFX markdown support'
        symbolicName = 'com.twasyl.slideshowfx.markup.markdown'
        description = 'Support markdown for defining slide\'s content'
        activator = 'com.twasyl.slideshowfx.markup.markdown.activator.MarkdownActivator'
        classpath = configurations.compile.resolve().collect { artifact -> artifact.name }.join(',').concat(',.')
        exportPackage = 'com.twasyl.slideshowfx.markup.markdown,com.twasyl.slideshowfx.markup.markdown.activator'
        setupWizardLabel = 'Markdown'
    }
}

jar {
    from(configurations.compile.resolve().collect()) {
        include '*'
    }
}